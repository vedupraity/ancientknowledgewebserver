<!DOCTYPE html>
<html>

<head>
    {# Global site tag (gtag.js) - Google Analytics #}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ google_analytics_tracking_id }}"></script>
    <script type="application/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '{{ google_analytics_tracking_id }}');
    </script>
    <script async src="https://cse.google.com/cse.js?cx=ff45d1729ad35e76f"></script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ff902b" />
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet'>

    {# Begin SEO tags #}
    <title>{% if env == "dev" %}[{{env}}] {% endif %}{{ page_title|default(site_title) }}</title>
    <meta name="description" content="{{ page_description|default(site_description) }}">
    <meta name="keywords" content="{% if page_keywords|length %}{{ page_keywords|join(', ') }}{% else %}{{ seo_keywords|join(', ') }}{% endif %}">

    <meta property="og:title" content="{{ page_title }}" />
    <meta property="og:description" content="{{ page_description|default(site_description) }}" />
    <meta property="og:url" content="{{ site_url }}" />
    <meta property="og:image" content="{% if site_image %}{{ site_url }}{{ url_for('static', filename=site_image) }}{% else %}{{ site_url }}{{ url_for('static', filename='images/open-book-cover.jpg') }}{% endif %}" />
    <meta property="og:type" content="{{ page_type|default('website') }}" />
    
    <meta property="twitter:title" content="{{ page_title }}" />
    <meta property="twitter:description" content="{{ page_description|default(site_description) }}" />
    <meta property="twitter:image" content="{% if site_image %}{{ site_url }}{{ url_for('static', filename=site_image) }}{% else %}{{ site_url }}{{ url_for('static', filename='images/open-book-cover.jpg') }}{% endif %}" />
    {# End SEO tags #}

    <link rel="icon" href="{{ site_url }}{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="shortcut icon" type="image/png" href="{{ site_url }}{{ url_for('static', filename='images/logo.png') }}" />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.3/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="{{ site_url }}{{ url_for('static', filename='css/bulma.min.css') }}">
    <link rel="stylesheet" href="{{ site_url }}{{ url_for('static', filename='css/theme.css') }}">
    <link rel="stylesheet" href="{{ site_url }}{{ url_for('static', filename='css/animations.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>
    {% include "components/navbar.html" %}

    {% block hero_section %}{% endblock %}

    {% block content %}{% endblock %}

    {% include "components/footer.html" %}

    <template id="language-selector-swal-template">
        <swal-title>
            Select language
        </swal-title>
        <swal-input type="select" value="{{ content_languages[0][0] }}" />
            {% for language in content_languages %}
                <swal-input-option value="{{ language[0] }}">{{ language[1] }}</swal-input-option>
            {% endfor %}
        </swal-input>

        <swal-button type="confirm">
            Confirm
        </swal-button>
        <swal-button type="cancel">
            Cancel
        </swal-button>
        <swal-param name="allowOutsideClick" value="false" />
        <swal-param name="scrollbarPadding" value="false" />
        <swal-param name="customClass" value='{ "confirmButton": "button is-warning is-outlined", "cancelButton": "button is-grey is-outlined" }' />
    </template>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.3/dist/sweetalert2.min.js"></script>
    <script type="application/javascript">
        window.redirectTo = (url) => {
            window.location.href = url;
        };
        window.languageSelector = async () => {
            const { value: language } = await Swal.fire({
                template: '#language-selector-swal-template'
            });

            if (language) {
                if (window.location.pathname === '/') {
                    window.redirectTo(`/${language}/`);
                } else {
                    let currentPath = window.location.pathname;
                    let newPath = currentPath.replace(/^\/[a-z]{2}\/?/, `/${language}/`);
                    window.redirectTo(newPath);
                };
            };
        };
    </script>

    <script src="{{ site_url }}{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ site_url }}{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ site_url }}{{ url_for('static', filename='js/css3-animate-it.js') }}"></script>

    {% block js_extension %}{% endblock %}
    {% block css_extension %}{% endblock %}
</body>

</html>